<section id="editor" data-ng-controller="EditorController">

  <section id="edit-panel">
    <h1 class="input-box" id="post-title" contenteditable="true" data-editable-text="true" data-ng-model="post.title"></h1>
    <div id="post-container">
      <article contenteditable="true" class="input-box" data-editable-markdown="true" id="post-content" data-ng-show="!previewOn"
      data-ng-model="post.contentMarkdownHtml"></article>
      <div id="post-content-preview" data-ng-show="previewOn" data-ng-bind-html-unsafe="post.contentHtmlPreview"></div>

      <span id="status-panel">
        <span>last saved <strong><span data-ng-bind="status.autoSaveTime"></span></strong></span>
      </span>
    </div>
  </section>

  <ul class="edit-controls">
    <li data-ng-click="togglePreview()" class="edit-control icon-preview-on" title="preview as HTML"></li>
    <li data-ng-click="sync()" class="edit-control icon-sync-post" title="sync to blog"></li>
  </ul>

  <aside id="metadata-panel">
    <div id="metadata-container">
      <div id="metadata-collapser" data-ng-click="toggleMetadataPanel()"></div>
      <section id="post-metadata" data-ng-show="showMetadata" data-ng-animate>

        <div class="field-group full">
          <label>excerpt</label>
          <span class="icon-reload" data-ng-click="updateExcerpt()" title="set excerpt to post's first paragraph"></span>
          <div class="input" contenteditable="true" data-editable-text="true" data-ng-model="post.excerpt" id="post-excerpt"></div>
        </div>

        <div class="field-group half">
          <label>tags</label>
          <span class="icon-sync-wordpress" data-ng-click="getTags()" title="get existing tags from WordPress"></span>
          <div class="input" contenteditable="true" data-editable-text="true" data-ng-model="post.tags" id="post-tags"></div>
          <ul class="term-list">
            <li data-ng-repeat="tag in tags"  data-ng-click="addTag(tag)">
              <span data-ng-bind="tag.name"></span>
            </li>
          </ul>
        </div>

        <div class="field-group half">
          <label>categories</label>
          <span class="icon-sync-wordpress" data-ng-click="getCategories()" title="get existing categories from WordPress"></span>
          <div class="input" contenteditable="true" data-editable-text="true" data-ng-model="post.categories" id="post-categories">
          </div>
          <ul class="term-list">
            <li data-ng-repeat="category in categories"  data-ng-click="addCategory(category)">
              <span data-ng-bind="category.name"></span>
            </li>
          </ul>
        </div>
      </section>
    </div>
  </aside>

</section>